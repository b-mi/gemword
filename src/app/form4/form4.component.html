<div class="container">
  
  <div class="options">
    <h2>Nastavenia</h2>
    
    <div class="settings-list">
      @for (opt of switches; track opt.value) {
        <label class="checkbox-item" [class.active]="opt.checked">
          <input type="checkbox" [checked]="opt.checked" (change)="toggleSwitch(opt)">
          <span>{{ opt.label }}</span>
        </label>
      }
    </div>

    <button class="btn-primary" (click)="handleGenerate()" [disabled]="isLoading()">
      @if (isLoading()) { â³ Generujem... } @else { âœ¨ VylepÅ¡iÅ¥ Text }
    </button>

    @if (error()) { <div class="error-msg">{{ error() }}</div> }
  </div>

  <div class="toolbar">
    <h1>Editor textu s AI Gemini</h1>
  </div>

  <div class="question">
    <div class="box-header">
      <span>VstupnÃ½ text</span>
      <div class="actions">
        <button (click)="handlePaste()" title="PrilepiÅ¥">ğŸ“‹</button>
        <button (click)="handleClear()" title="VymazaÅ¥">ğŸ—‘ï¸</button>
      </div>
    </div>
    <textarea 
      [ngModel]="inputText()" 
      (ngModelChange)="inputText.set($event)"
      placeholder="Sem vloÅ¾te text...">
    </textarea>
  </div>

  <div class="answer">
    <div class="box-header">
      <span>VÃ½sledok (Markdown)</span>
      <div class="actions">
        <button (click)="copyAsRawText()" title="KopÃ­rovaÅ¥ Markdown">ğŸ“„ Copy MD</button>
        <button (click)="copyPreviewHtml()" title="KopÃ­rovaÅ¥ HTML">ğŸŒ Copy HTML</button>
      </div>
    </div>
    <textarea readonly [value]="rawOutput()" placeholder="Tu sa objavÃ­ vÃ½sledok..."></textarea>
  </div>

</div>